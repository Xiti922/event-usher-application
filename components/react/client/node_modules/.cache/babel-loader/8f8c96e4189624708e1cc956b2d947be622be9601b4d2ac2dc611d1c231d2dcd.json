{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst encoding_1 = require(\"@iov/encoding\");\nconst pubkey_1 = require(\"./pubkey\");\nconst types_1 = require(\"./types\");\n/**\n * Takes a binary pubkey and signature to create a signature object\n *\n * @param pubkey a compressed secp256k1 public key\n * @param signature a 64 byte fixed length representation of secp256k1 signature components r and s\n */\nfunction encodeSecp256k1Signature(pubkey, signature) {\n  if (signature.length !== 64) {\n    throw new Error(\"Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.\");\n  }\n  return {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    pub_key: pubkey_1.encodeSecp256k1Pubkey(pubkey),\n    signature: encoding_1.Encoding.toBase64(signature)\n  };\n}\nexports.encodeSecp256k1Signature = encodeSecp256k1Signature;\nfunction decodeSignature(signature) {\n  switch (signature.pub_key.type) {\n    // Note: please don't add cases here without writing additional unit tests\n    case types_1.pubkeyType.secp256k1:\n      return {\n        pubkey: encoding_1.Encoding.fromBase64(signature.pub_key.value),\n        signature: encoding_1.Encoding.fromBase64(signature.signature)\n      };\n    default:\n      throw new Error(\"Unsupported pubkey type\");\n  }\n}\nexports.decodeSignature = decodeSignature;","map":{"version":3,"mappings":";;;;;AAAA;AAEA;AACA;AAEA;;;;;;AAMA,SAAgBA,wBAAwB,CAACC,MAAkB,EAAEC,SAAqB;EAChF,IAAIA,SAAS,CAACC,MAAM,KAAK,EAAE,EAAE;IAC3B,MAAM,IAAIC,KAAK,CACb,kIAAkI,CACnI;;EAGH,OAAO;IACL;IACAC,OAAO,EAAEC,8BAAqB,CAACL,MAAM,CAAC;IACtCC,SAAS,EAAEK,mBAAQ,CAACC,QAAQ,CAACN,SAAS;GACvC;AACH;AAZAO;AAcA,SAAgBC,eAAe,CAC7BR,SAAuB;EAEvB,QAAQA,SAAS,CAACG,OAAO,CAACM,IAAI;IAC5B;IACA,KAAKC,kBAAU,CAACC,SAAS;MACvB,OAAO;QACLZ,MAAM,EAAEM,mBAAQ,CAACO,UAAU,CAACZ,SAAS,CAACG,OAAO,CAACU,KAAK,CAAC;QACpDb,SAAS,EAAEK,mBAAQ,CAACO,UAAU,CAACZ,SAAS,CAACA,SAAS;OACnD;IACH;MACE,MAAM,IAAIE,KAAK,CAAC,yBAAyB,CAAC;EAAC;AAEjD;AAbAK","names":["encodeSecp256k1Signature","pubkey","signature","length","Error","pub_key","pubkey_1","encoding_1","toBase64","exports","decodeSignature","type","types_1","secp256k1","fromBase64","value"],"sources":["../src/signature.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}