{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serializePathv2 = serializePathv2;\nexports.signSendChunkv2 = signSendChunkv2;\nexports.publicKeyv2 = publicKeyv2;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _helperV = require(\"./helperV1\");\nvar _common = require(\"./common\");\nfunction serializePathv2(path) {\n  if (!path || path.length !== 5) {\n    throw new Error(\"Invalid path.\");\n  }\n  var buf = Buffer.alloc(20);\n  buf.writeUInt32LE(0x80000000 + path[0], 0);\n  buf.writeUInt32LE(0x80000000 + path[1], 4);\n  buf.writeUInt32LE(0x80000000 + path[2], 8);\n  buf.writeUInt32LE(path[3], 12);\n  buf.writeUInt32LE(path[4], 16);\n  return buf;\n}\nfunction signSendChunkv2(_x, _x2, _x3, _x4) {\n  return _signSendChunkv.apply(this, arguments);\n}\nfunction _signSendChunkv() {\n  _signSendChunkv = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(app, chunkIdx, chunkNum, chunk) {\n    var payloadType;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            payloadType = _common.PAYLOAD_TYPE.ADD;\n            if (chunkIdx === 1) {\n              payloadType = _common.PAYLOAD_TYPE.INIT;\n            }\n            if (chunkIdx === chunkNum) {\n              payloadType = _common.PAYLOAD_TYPE.LAST;\n            }\n            return _context.abrupt(\"return\", (0, _helperV.signSendChunkv1)(app, payloadType, 0, chunk));\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _signSendChunkv.apply(this, arguments);\n}\nfunction publicKeyv2(_x5, _x6) {\n  return _publicKeyv.apply(this, arguments);\n}\nfunction _publicKeyv() {\n  _publicKeyv = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(app, data) {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", app.transport.send(_common.CLA, _common.INS.GET_ADDR_SECP256K1, 0, 0, data, [_common.ERROR_CODE.NoError]).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var compressedPk = Buffer.from(response.slice(0, 33));\n              return {\n                pk: \"OBSOLETE PROPERTY\",\n                compressed_pk: compressedPk,\n                return_code: returnCode,\n                error_message: (0, _common.errorCodeToString)(returnCode)\n              };\n            }, _common.processErrorResponse));\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _publicKeyv.apply(this, arguments);\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","serializePathv2","signSendChunkv2","publicKeyv2","_regenerator","_asyncToGenerator2","_helperV","_common","path","length","Error","buf","Buffer","alloc","writeUInt32LE","_x","_x2","_x3","_x4","_signSendChunkv","apply","arguments","default","mark","_callee","app","chunkIdx","chunkNum","chunk","payloadType","wrap","_callee$","_context","prev","next","PAYLOAD_TYPE","ADD","INIT","LAST","abrupt","signSendChunkv1","stop","_x5","_x6","_publicKeyv","_callee2","data","_callee2$","_context2","transport","send","CLA","INS","GET_ADDR_SECP256K1","ERROR_CODE","NoError","then","response","errorCodeData","slice","returnCode","compressedPk","from","pk","compressed_pk","return_code","error_message","errorCodeToString","processErrorResponse"],"sources":["/Users/seanwavy/Development/legends/event-usher-application/components/react/client/node_modules/ledger-cosmos-js/dist/helperV2.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serializePathv2 = serializePathv2;\nexports.signSendChunkv2 = signSendChunkv2;\nexports.publicKeyv2 = publicKeyv2;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _helperV = require(\"./helperV1\");\n\nvar _common = require(\"./common\");\n\nfunction serializePathv2(path) {\n  if (!path || path.length !== 5) {\n    throw new Error(\"Invalid path.\");\n  }\n\n  var buf = Buffer.alloc(20);\n  buf.writeUInt32LE(0x80000000 + path[0], 0);\n  buf.writeUInt32LE(0x80000000 + path[1], 4);\n  buf.writeUInt32LE(0x80000000 + path[2], 8);\n  buf.writeUInt32LE(path[3], 12);\n  buf.writeUInt32LE(path[4], 16);\n  return buf;\n}\n\nfunction signSendChunkv2(_x, _x2, _x3, _x4) {\n  return _signSendChunkv.apply(this, arguments);\n}\n\nfunction _signSendChunkv() {\n  _signSendChunkv = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(app, chunkIdx, chunkNum, chunk) {\n    var payloadType;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            payloadType = _common.PAYLOAD_TYPE.ADD;\n\n            if (chunkIdx === 1) {\n              payloadType = _common.PAYLOAD_TYPE.INIT;\n            }\n\n            if (chunkIdx === chunkNum) {\n              payloadType = _common.PAYLOAD_TYPE.LAST;\n            }\n\n            return _context.abrupt(\"return\", (0, _helperV.signSendChunkv1)(app, payloadType, 0, chunk));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _signSendChunkv.apply(this, arguments);\n}\n\nfunction publicKeyv2(_x5, _x6) {\n  return _publicKeyv.apply(this, arguments);\n}\n\nfunction _publicKeyv() {\n  _publicKeyv = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(app, data) {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", app.transport.send(_common.CLA, _common.INS.GET_ADDR_SECP256K1, 0, 0, data, [_common.ERROR_CODE.NoError]).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var compressedPk = Buffer.from(response.slice(0, 33));\n              return {\n                pk: \"OBSOLETE PROPERTY\",\n                compressed_pk: compressedPk,\n                return_code: returnCode,\n                error_message: (0, _common.errorCodeToString)(returnCode)\n              };\n            }, _common.processErrorResponse));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _publicKeyv.apply(this, arguments);\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}