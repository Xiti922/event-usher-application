{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst encoding_1 = require(\"@iov/encoding\");\nconst {\n  toUtf8\n} = encoding_1.Encoding;\nfunction sortJson(json) {\n  if (typeof json !== \"object\" || json === null) {\n    return json;\n  }\n  if (Array.isArray(json)) {\n    return json.map(sortJson);\n  }\n  const sortedKeys = Object.keys(json).sort();\n  const result = sortedKeys.reduce((accumulator, key) => Object.assign(Object.assign({}, accumulator), {\n    [key]: sortJson(json[key])\n  }), {});\n  return result;\n}\nfunction marshalTx(tx) {\n  const json = JSON.stringify(tx);\n  return encoding_1.Encoding.toUtf8(json);\n}\nexports.marshalTx = marshalTx;\nfunction makeSignBytes(msgs, fee, chainId, memo, accountNumber, sequence) {\n  const signJson = {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    account_number: accountNumber.toString(),\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    chain_id: chainId,\n    fee: fee,\n    memo: memo,\n    msgs: msgs,\n    sequence: sequence.toString()\n  };\n  const signMsg = sortJson(signJson);\n  return toUtf8(JSON.stringify(signMsg));\n}\nexports.makeSignBytes = makeSignBytes;","map":{"version":3,"mappings":";;;;;AAAA;AAIA,MAAM;EAAEA;AAAM,CAAE,GAAGC,mBAAQ;AAE3B,SAASC,QAAQ,CAACC,IAAS;EACzB,IAAI,OAAOA,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,IAAI,EAAE;IAC7C,OAAOA,IAAI;;EAEb,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACvB,OAAOA,IAAI,CAACG,GAAG,CAACJ,QAAQ,CAAC;;EAE3B,MAAMK,UAAU,GAAGC,MAAM,CAACC,IAAI,CAACN,IAAI,CAAC,CAACO,IAAI,EAAE;EAC3C,MAAMC,MAAM,GAAGJ,UAAU,CAACK,MAAM,CAC9B,CAACC,WAAW,EAAEC,GAAG,KAAKN,gCACjBK,WAAW;IACd,CAACC,GAAG,GAAGZ,QAAQ,CAACC,IAAI,CAACW,GAAG,CAAC;EAAC,EAC1B,EACF,EAAE,CACH;EACD,OAAOH,MAAM;AACf;AAEA,SAAgBI,SAAS,CAACC,EAAS;EACjC,MAAMb,IAAI,GAAGc,IAAI,CAACC,SAAS,CAACF,EAAE,CAAC;EAC/B,OAAOf,mBAAQ,CAACD,MAAM,CAACG,IAAI,CAAC;AAC9B;AAHAgB;AAcA,SAAgBC,aAAa,CAC3BC,IAAoB,EACpBC,GAAW,EACXC,OAAe,EACfC,IAAY,EACZC,aAAqB,EACrBC,QAAgB;EAEhB,MAAMC,QAAQ,GAAa;IACzB;IACAC,cAAc,EAAEH,aAAa,CAACI,QAAQ,EAAE;IACxC;IACAC,QAAQ,EAAEP,OAAO;IACjBD,GAAG,EAAEA,GAAG;IACRE,IAAI,EAAEA,IAAI;IACVH,IAAI,EAAEA,IAAI;IACVK,QAAQ,EAAEA,QAAQ,CAACG,QAAQ;GAC5B;EACD,MAAME,OAAO,GAAG7B,QAAQ,CAACyB,QAAQ,CAAC;EAClC,OAAO3B,MAAM,CAACiB,IAAI,CAACC,SAAS,CAACa,OAAO,CAAC,CAAC;AACxC;AApBAZ","names":["toUtf8","encoding_1","sortJson","json","Array","isArray","map","sortedKeys","Object","keys","sort","result","reduce","accumulator","key","marshalTx","tx","JSON","stringify","exports","makeSignBytes","msgs","fee","chainId","memo","accountNumber","sequence","signJson","account_number","toString","chain_id","signMsg"],"sources":["../src/encoding.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}