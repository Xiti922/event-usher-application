{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseKVStore = void 0;\nclass BaseKVStore {\n  constructor(provider, _prefix) {\n    this.provider = provider;\n    this._prefix = _prefix;\n  }\n  get(key) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const k = this.prefix() + \"/\" + key;\n      const data = yield this.provider.get();\n      return data[k];\n    });\n  }\n  set(key, data) {\n    const k = this.prefix() + \"/\" + key;\n    return this.provider.set({\n      [k]: data\n    });\n  }\n  prefix() {\n    return this._prefix;\n  }\n}\nexports.BaseKVStore = BaseKVStore;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAaA,WAAW;EACtBC,YACmBC,QAAyB,EACzBC,OAAe;IADf,aAAQ,GAARD,QAAQ;IACR,YAAO,GAAPC,OAAO;EACvB;EAEGC,GAAG,CAAcC,GAAW;;MAChC,MAAMC,CAAC,GAAG,IAAI,CAACC,MAAM,EAAE,GAAG,GAAG,GAAGF,GAAG;MAEnC,MAAMG,IAAI,GAAG,MAAM,IAAI,CAACN,QAAQ,CAACE,GAAG,EAAE;MACtC,OAAOI,IAAI,CAACF,CAAC,CAAC;IAChB,CAAC;;EAEDG,GAAG,CAAcJ,GAAW,EAAEG,IAAc;IAC1C,MAAMF,CAAC,GAAG,IAAI,CAACC,MAAM,EAAE,GAAG,GAAG,GAAGF,GAAG;IAEnC,OAAO,IAAI,CAACH,QAAQ,CAACO,GAAG,CAAC;MAAE,CAACH,CAAC,GAAGE;IAAI,CAAE,CAAC;EACzC;EAEAD,MAAM;IACJ,OAAO,IAAI,CAACJ,OAAO;EACrB;;AArBFO","names":["BaseKVStore","constructor","provider","_prefix","get","key","k","prefix","data","set","exports"],"sources":["/Users/seanwavy/Development/legends/event-usher-application/components/react/client/node_modules/@keplr-wallet/background/node_modules/@keplr-wallet/common/src/kv-store/base.ts"],"sourcesContent":["import { KVStore, KVStoreProvider } from \"./interface\";\n\nexport class BaseKVStore implements KVStore {\n  constructor(\n    private readonly provider: KVStoreProvider,\n    private readonly _prefix: string\n  ) {}\n\n  async get<T = unknown>(key: string): Promise<T | undefined> {\n    const k = this.prefix() + \"/\" + key;\n\n    const data = await this.provider.get();\n    return data[k];\n  }\n\n  set<T = unknown>(key: string, data: T | null): Promise<void> {\n    const k = this.prefix() + \"/\" + key;\n\n    return this.provider.set({ [k]: data });\n  }\n\n  prefix(): string {\n    return this._prefix;\n  }\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}