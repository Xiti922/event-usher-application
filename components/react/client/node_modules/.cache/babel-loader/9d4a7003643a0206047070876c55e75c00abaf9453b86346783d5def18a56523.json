{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// A docker image regexp. We remove support for non-standard registries for simplicity.\n// https://docs.docker.com/engine/reference/commandline/tag/#extended-description\n//\n// An image name is made up of slash-separated name components (optionally prefixed by a registry hostname).\n// Name components may contain lowercase characters, digits and separators.\n// A separator is defined as a period, one or two underscores, or one or more dashes. A name component may not start or end with a separator.\n//\n// A tag name must be valid ASCII and may contain lowercase and uppercase letters, digits, underscores, periods and dashes.\n// A tag name may not start with a period or a dash and may contain a maximum of 128 characters.\nconst dockerImagePattern = new RegExp(\"^[a-z0-9][a-z0-9._-]*[a-z0-9](/[a-z0-9][a-z0-9._-]*[a-z0-9])+:[a-zA-Z0-9_][a-zA-Z0-9_.-]{0,127}$\");\n/** Max length in bytes/characters (regexp enforces all ASCII, even if that is not required by the standard) */\nconst builderMaxLength = 128;\nfunction isValidBuilder(builder) {\n  if (builder.length > builderMaxLength) return false;\n  return !!builder.match(dockerImagePattern);\n}\nexports.isValidBuilder = isValidBuilder;","map":{"version":3,"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,kBAAkB,GAAG,IAAIC,MAAM,CACnC,kGAAkG,CACnG;AAED;AACA,MAAMC,gBAAgB,GAAG,GAAG;AAE5B,SAAgBC,cAAc,CAACC,OAAe;EAC5C,IAAIA,OAAO,CAACC,MAAM,GAAGH,gBAAgB,EAAE,OAAO,KAAK;EACnD,OAAO,CAAC,CAACE,OAAO,CAACE,KAAK,CAACN,kBAAkB,CAAC;AAC5C;AAHAO","names":["dockerImagePattern","RegExp","builderMaxLength","isValidBuilder","builder","length","match","exports"],"sources":["../src/builder.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}