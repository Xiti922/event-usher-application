{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorCodeToString = errorCodeToString;\nexports.processErrorResponse = processErrorResponse;\nexports.getVersion = getVersion;\nexports.ERROR_CODE = exports.P1_VALUES = exports.PAYLOAD_TYPE = exports.INS = exports.APP_KEY = exports.CHUNK_SIZE = exports.CLA = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar CLA = 0x55;\nexports.CLA = CLA;\nvar CHUNK_SIZE = 250;\nexports.CHUNK_SIZE = CHUNK_SIZE;\nvar APP_KEY = \"CSM\";\nexports.APP_KEY = APP_KEY;\nvar INS = {\n  GET_VERSION: 0x00,\n  INS_PUBLIC_KEY_SECP256K1: 0x01,\n  // Obsolete\n  SIGN_SECP256K1: 0x02,\n  GET_ADDR_SECP256K1: 0x04\n};\nexports.INS = INS;\nvar PAYLOAD_TYPE = {\n  INIT: 0x00,\n  ADD: 0x01,\n  LAST: 0x02\n};\nexports.PAYLOAD_TYPE = PAYLOAD_TYPE;\nvar P1_VALUES = {\n  ONLY_RETRIEVE: 0x00,\n  SHOW_ADDRESS_IN_DEVICE: 0x01\n};\nexports.P1_VALUES = P1_VALUES;\nvar ERROR_CODE = {\n  NoError: 0x9000\n};\nexports.ERROR_CODE = ERROR_CODE;\nvar ERROR_DESCRIPTION = {\n  1: \"U2F: Unknown\",\n  2: \"U2F: Bad request\",\n  3: \"U2F: Configuration unsupported\",\n  4: \"U2F: Device Ineligible\",\n  5: \"U2F: Timeout\",\n  14: \"Timeout\",\n  0x9000: \"No errors\",\n  0x9001: \"Device is busy\",\n  0x6802: \"Error deriving keys\",\n  0x6400: \"Execution Error\",\n  0x6700: \"Wrong Length\",\n  0x6982: \"Empty Buffer\",\n  0x6983: \"Output buffer too small\",\n  0x6984: \"Data is invalid\",\n  0x6985: \"Conditions not satisfied\",\n  0x6986: \"Transaction rejected\",\n  0x6a80: \"Bad key handle\",\n  0x6b00: \"Invalid P1/P2\",\n  0x6d00: \"Instruction not supported\",\n  0x6e00: \"App does not seem to be open\",\n  0x6f00: \"Unknown error\",\n  0x6f01: \"Sign/verify error\"\n};\nfunction errorCodeToString(statusCode) {\n  if (statusCode in ERROR_DESCRIPTION) return ERROR_DESCRIPTION[statusCode];\n  return \"Unknown Status Code: \".concat(statusCode);\n}\nfunction isDict(v) {\n  return (0, _typeof2.default)(v) === \"object\" && v !== null && !(v instanceof Array) && !(v instanceof Date);\n}\nfunction processErrorResponse(response) {\n  if (response) {\n    if (isDict(response)) {\n      if (Object.prototype.hasOwnProperty.call(response, \"statusCode\")) {\n        return {\n          return_code: response.statusCode,\n          error_message: errorCodeToString(response.statusCode)\n        };\n      }\n      if (Object.prototype.hasOwnProperty.call(response, \"return_code\") && Object.prototype.hasOwnProperty.call(response, \"error_message\")) {\n        return response;\n      }\n    }\n    return {\n      return_code: 0xffff,\n      error_message: response.toString()\n    };\n  }\n  return {\n    return_code: 0xffff,\n    error_message: response.toString()\n  };\n}\nfunction getVersion(_x) {\n  return _getVersion.apply(this, arguments);\n}\nfunction _getVersion() {\n  _getVersion = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(transport) {\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", transport.send(CLA, INS.GET_VERSION, 0, 0).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var targetId = 0;\n              if (response.length >= 9) {\n                /* eslint-disable no-bitwise */\n                targetId = (response[5] << 24) + (response[6] << 16) + (response[7] << 8) + (response[8] << 0);\n                /* eslint-enable no-bitwise */\n              }\n\n              return {\n                return_code: returnCode,\n                error_message: errorCodeToString(returnCode),\n                // ///\n                test_mode: response[0] !== 0,\n                major: response[1],\n                minor: response[2],\n                patch: response[3],\n                device_locked: response[4] === 1,\n                target_id: targetId.toString(16)\n              };\n            }, processErrorResponse));\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getVersion.apply(this, arguments);\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","errorCodeToString","processErrorResponse","getVersion","ERROR_CODE","P1_VALUES","PAYLOAD_TYPE","INS","APP_KEY","CHUNK_SIZE","CLA","_regenerator","_asyncToGenerator2","_typeof2","GET_VERSION","INS_PUBLIC_KEY_SECP256K1","SIGN_SECP256K1","GET_ADDR_SECP256K1","INIT","ADD","LAST","ONLY_RETRIEVE","SHOW_ADDRESS_IN_DEVICE","NoError","ERROR_DESCRIPTION","statusCode","concat","isDict","v","default","Array","Date","response","prototype","hasOwnProperty","call","return_code","error_message","toString","_x","_getVersion","apply","arguments","mark","_callee","transport","wrap","_callee$","_context","prev","next","abrupt","send","then","errorCodeData","slice","returnCode","targetId","length","test_mode","major","minor","patch","device_locked","target_id","stop"],"sources":["/Users/seanwavy/Development/legends/event-usher-application/components/react/client/node_modules/ledger-cosmos-js/dist/common.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorCodeToString = errorCodeToString;\nexports.processErrorResponse = processErrorResponse;\nexports.getVersion = getVersion;\nexports.ERROR_CODE = exports.P1_VALUES = exports.PAYLOAD_TYPE = exports.INS = exports.APP_KEY = exports.CHUNK_SIZE = exports.CLA = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar CLA = 0x55;\nexports.CLA = CLA;\nvar CHUNK_SIZE = 250;\nexports.CHUNK_SIZE = CHUNK_SIZE;\nvar APP_KEY = \"CSM\";\nexports.APP_KEY = APP_KEY;\nvar INS = {\n  GET_VERSION: 0x00,\n  INS_PUBLIC_KEY_SECP256K1: 0x01,\n  // Obsolete\n  SIGN_SECP256K1: 0x02,\n  GET_ADDR_SECP256K1: 0x04\n};\nexports.INS = INS;\nvar PAYLOAD_TYPE = {\n  INIT: 0x00,\n  ADD: 0x01,\n  LAST: 0x02\n};\nexports.PAYLOAD_TYPE = PAYLOAD_TYPE;\nvar P1_VALUES = {\n  ONLY_RETRIEVE: 0x00,\n  SHOW_ADDRESS_IN_DEVICE: 0x01\n};\nexports.P1_VALUES = P1_VALUES;\nvar ERROR_CODE = {\n  NoError: 0x9000\n};\nexports.ERROR_CODE = ERROR_CODE;\nvar ERROR_DESCRIPTION = {\n  1: \"U2F: Unknown\",\n  2: \"U2F: Bad request\",\n  3: \"U2F: Configuration unsupported\",\n  4: \"U2F: Device Ineligible\",\n  5: \"U2F: Timeout\",\n  14: \"Timeout\",\n  0x9000: \"No errors\",\n  0x9001: \"Device is busy\",\n  0x6802: \"Error deriving keys\",\n  0x6400: \"Execution Error\",\n  0x6700: \"Wrong Length\",\n  0x6982: \"Empty Buffer\",\n  0x6983: \"Output buffer too small\",\n  0x6984: \"Data is invalid\",\n  0x6985: \"Conditions not satisfied\",\n  0x6986: \"Transaction rejected\",\n  0x6a80: \"Bad key handle\",\n  0x6b00: \"Invalid P1/P2\",\n  0x6d00: \"Instruction not supported\",\n  0x6e00: \"App does not seem to be open\",\n  0x6f00: \"Unknown error\",\n  0x6f01: \"Sign/verify error\"\n};\n\nfunction errorCodeToString(statusCode) {\n  if (statusCode in ERROR_DESCRIPTION) return ERROR_DESCRIPTION[statusCode];\n  return \"Unknown Status Code: \".concat(statusCode);\n}\n\nfunction isDict(v) {\n  return (0, _typeof2.default)(v) === \"object\" && v !== null && !(v instanceof Array) && !(v instanceof Date);\n}\n\nfunction processErrorResponse(response) {\n  if (response) {\n    if (isDict(response)) {\n      if (Object.prototype.hasOwnProperty.call(response, \"statusCode\")) {\n        return {\n          return_code: response.statusCode,\n          error_message: errorCodeToString(response.statusCode)\n        };\n      }\n\n      if (Object.prototype.hasOwnProperty.call(response, \"return_code\") && Object.prototype.hasOwnProperty.call(response, \"error_message\")) {\n        return response;\n      }\n    }\n\n    return {\n      return_code: 0xffff,\n      error_message: response.toString()\n    };\n  }\n\n  return {\n    return_code: 0xffff,\n    error_message: response.toString()\n  };\n}\n\nfunction getVersion(_x) {\n  return _getVersion.apply(this, arguments);\n}\n\nfunction _getVersion() {\n  _getVersion = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(transport) {\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", transport.send(CLA, INS.GET_VERSION, 0, 0).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var targetId = 0;\n\n              if (response.length >= 9) {\n                /* eslint-disable no-bitwise */\n                targetId = (response[5] << 24) + (response[6] << 16) + (response[7] << 8) + (response[8] << 0);\n                /* eslint-enable no-bitwise */\n              }\n\n              return {\n                return_code: returnCode,\n                error_message: errorCodeToString(returnCode),\n                // ///\n                test_mode: response[0] !== 0,\n                major: response[1],\n                minor: response[2],\n                patch: response[3],\n                device_locked: response[4] === 1,\n                target_id: targetId.toString(16)\n              };\n            }, processErrorResponse));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getVersion.apply(this, arguments);\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}